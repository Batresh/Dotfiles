#!/bin/sh
INTERFACE=$(ip route get 1.1.1.1 2>/dev/null | awk '{print $5}')
[[ $INTERFACE == "" ]] && exit
rxs=0
txs=0
rx1=$(cat /sys/class/net/$INTERFACE/statistics/rx_bytes)
tx1=$(cat /sys/class/net/$INTERFACE/statistics/tx_bytes)
sleep 3
rx2=$(cat /sys/class/net/$INTERFACE/statistics/rx_bytes)
tx2=$(cat /sys/class/net/$INTERFACE/statistics/tx_bytes)
rxs=$(expr $rx2 - $rx1)
txs=$(expr $tx2 - $tx1)
rxs=$(expr $rxs / 3)
txs=$(expr $txs / 3)
rxs=$(expr $rxs / 1024)
txs=$(expr $txs / 1024)
echo " [6]▼ ${rxs}KiB/s ▲ ${txs}KiB/s "
